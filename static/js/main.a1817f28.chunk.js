(this.webpackJsonptoolist=this.webpackJsonptoolist||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),i=c(20),r=c.n(i),a=c(7),o=c(2),j=function(){return Object(n.jsx)("header",{children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"inner-content",children:[Object(n.jsx)("div",{className:"brand",children:Object(n.jsx)(a.b,{to:"/Global",children:"GLOBAL MOVIES AWARDS"})}),Object(n.jsxs)("ul",{className:"nav-links",children:[Object(n.jsx)("li",{children:Object(n.jsx)(a.b,{to:"/",children:"Nominees"})}),Object(n.jsx)("li",{children:Object(n.jsx)(a.b,{to:"/NominateMovies",children:"Nominate a Movie"})}),Object(n.jsx)("li",{children:Object(n.jsx)(a.b,{to:"/Terms",children:"Terms"})})]})]})})})},l=c(18),d=c.n(l),b=c(22),O=c(9),m=c(23),u=c(12),h=function(e,t){switch(t.type){case"ADD_MOVIE_TO_NOMINEES":return Object(u.a)(Object(u.a)({},e),{},{Nominees:[t.payload].concat(Object(m.a)(e.Nominees))});case"REMOVE_MOVIE_FROM_NOMINEES":return Object(u.a)(Object(u.a)({},e),{},{Nominees:e.Nominees.filter((function(e){return e.imdbID!==t.payload}))});default:return e}},x={Nominees:localStorage.getItem("Nominees")?JSON.parse(localStorage.getItem("Nominees")):[]},v=Object(s.createContext)(x),N=function(e){var t=Object(s.useReducer)(h,x),c=Object(O.a)(t,2),i=c[0],r=c[1];Object(s.useEffect)((function(){localStorage.setItem("Nominees",JSON.stringify(i.Nominees))}),[i]);return Object(n.jsx)(v.Provider,{value:{Nominees:i.Nominees,addMovietoNominees:function(e){r({type:"ADD_MOVIE_TO_NOMINEES",payload:e})},removeMovieFromNominees:function(e){r({type:"REMOVE_MOVIE_FROM_NOMINEES",payload:e})}},children:e.children})},p=function(e){var t=e.movie,c=Object(s.useContext)(v),i=c.addMovietoNominees,r=c.Nominees,a=!!r.find((function(e){return e.imdbID===t.imdbID}))||r.length>4;return Object(n.jsxs)("div",{className:"result-card",children:[Object(n.jsx)("div",{className:"poster-wrapper",children:t.Poster?Object(n.jsx)("img",{src:t.Poster,alt:t.Title}):Object(n.jsx)("div",{className:"filler-poster"})}),Object(n.jsxs)("div",{className:"info",children:[Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("h3",{className:"title",children:t.Title}),Object(n.jsx)("h4",{className:"release-date",children:t.Year})]}),Object(n.jsx)("div",{className:"controls",children:Object(n.jsx)("button",{className:"btn",disabled:a,onClick:function(){return i(t)},children:"Add to Nominated movies"})})]})]})},f=function(){var e=Object(s.useState)(!1),t=Object(O.a)(e,2),c=t[0],i=t[1],r=Object(s.useState)(null),a=Object(O.a)(r,2),o=(a[0],a[1]),j=Object(s.useState)(""),l=Object(O.a)(j,2),m=l[0],u=l[1],h=Object(s.useState)([]),x=Object(O.a)(h,2),v=x[0],N=x[1],f=function(){var e=Object(b.a)(d.a.mark((function e(t){var c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(!0),c="https://www.omdbapi.com/?&apikey=c5b0e5f8&s=".concat(m,'&type="movie"'),e.prev=3,e.next=6,fetch(c);case 6:return n=e.sent,e.next=9,n.json();case 9:s=e.sent,o(null),N(s.Search),i(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),o("An unexpected error occured."),i(!1);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"add-page",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"add-content",children:[Object(n.jsx)("div",{className:"input-wrapper",children:Object(n.jsxs)("form",{onSubmit:f,children:[Object(n.jsx)("input",{type:"text",name:"query",placeholder:"Search movies by name...",value:m,onChange:function(e){return u(e.target.value)}}),Object(n.jsx)("button",{type:"submit",className:"btn",children:"Search"})]})}),c?Object(n.jsx)("span",{children:" loading... "}):Object(n.jsx)("ul",{className:"results",children:v.map((function(e,t){return Object(n.jsx)("li",{children:Object(n.jsx)(p,{movie:e})},t)}))})]})})})},y=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Terms"}),Object(n.jsx)("p",{children:"you are only permited to nominate a maximum of five movies, after your nominees exceeds five. you are exempted from nominating further."})]})},M=function(e){var t=e.movie,c=Object(s.useContext)(v).removeMovieFromNominees;return Object(n.jsx)("div",{className:"inner-card-controls",children:Object(n.jsx)("button",{className:"btn",onClick:function(){return c(t.imdbID)},children:"delete"})})},E=function(e){var t=e.movie;return Object(n.jsxs)("div",{className:"movie-card",children:[Object(n.jsx)("div",{className:"overlay"}),t.Poster?Object(n.jsx)("img",{src:t.Poster,alt:t.Title}):Object(n.jsx)("div",{className:"filler-poster"}),Object(n.jsx)(M,{movie:t})]})},S=function(){var e=Object(s.useContext)(v).Nominees;return Object(n.jsx)("div",{className:"movie-page",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("h1",{className:"heading",children:"Nominees"})}),e.length>0?Object(n.jsx)("div",{className:"movie-grid",children:e.map((function(e,t){return Object(n.jsx)("li",{children:Object(n.jsx)(E,{movie:e})},t)}))}):Object(n.jsx)("h2",{className:"no-movies",children:"you have not nominated any movies yet, add some!"})]})})},I=function(){return Object(n.jsx)("div",{className:"st",children:Object(n.jsx)("p",{className:"front",children:"WELCOME TO GLOBAL MOVIES AWARD NOMINATIONS"})})};c(35);var g=function(){return Object(n.jsx)(N,{children:Object(n.jsxs)(a.a,{children:[Object(n.jsx)(j,{}),Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:"/",children:Object(n.jsx)(S,{})}),Object(n.jsx)(o.a,{path:"/NominateMovies",children:Object(n.jsx)(f,{})}),Object(n.jsx)(o.a,{path:"/Terms",children:Object(n.jsx)(y,{})}),Object(n.jsx)(o.a,{path:"/Global",children:Object(n.jsx)(I,{})})]})]})})};r.a.render(Object(n.jsx)(g,{}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.a1817f28.chunk.js.map